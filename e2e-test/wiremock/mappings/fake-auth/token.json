{
  "mappings": [
    {
      "name": "Fake Auth Token - Admin",
      "priority": 1,
      "request": {
        "method": "POST",
        "urlPath": "/fake-auth/token",
        "bodyPatterns": [
          {
            "contains": "\"username\":\"admin\""
          }
        ]
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*"
        },
        "jsonBody": {
          "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImZha2UtYXV0aC1rZXktMSJ9.eyJpc3MiOiJodHRwOi8vd2lyZW1vY2s6ODA4MC9mYWtlLWF1dGgiLCJzdWIiOiJhZG1pbiIsImF1ZCI6WyJyZWFjdGl2ZS10ZXN0LWFwaSJdLCJpYXQiOjE3NjUwNjIyMDEsImV4cCI6MTc5NjU5ODIwMSwianRpIjoiZmU2OWY2ZTgtY2NiYy00ZjZlLWI5MzktOTNmNWQ0MGQ5ZjIzIiwic2NvcGUiOiJwcm9kdWN0OnJlYWQgcHJvZHVjdDp3cml0ZSBjYXJ0OnJlYWQgY2FydDp3cml0ZSBjaGVja291dDpyZWFkIGNoZWNrb3V0OndyaXRlIG9yZGVyOnJlYWQgb3JkZXI6d3JpdGUifQ.Nzj44VzA5cFIr11OB-1rYkrVyXoZsqsML5NRgGWEaEwS7m3cU9WwHyAAp4NcReUy-ufJ26LqK2378kc6WEcdSZaGGnpT3h5aHVeLodjVN0Y82NJ1F3n2eYZ_Qn_ZvkoWngUJiZqz3vTjVtQj928BGkmdjxQrgOBxTPBh7vzvRHul6JJwEjYcRrq3c963Hg-ccomJW5V3gI1U_awLYLa5vvn1OqFrSA_EfiKch7RtK9iLzKMaOMja49fB3qw6hNIDIBTNFhUfABF1OeVQXTs-pBtcKaSzctKLVt4kvD6BGLB5tUQumeyMe0t72qj2PPZltfz8s6yWgctO9XUj0lbfrA",
          "token_type": "Bearer",
          "expires_in": 31536000,
          "scope": "product:read product:write cart:read cart:write checkout:read checkout:write order:read order:write"
        }
      }
    },
    {
      "name": "Fake Auth Token - Customer",
      "priority": 1,
      "request": {
        "method": "POST",
        "urlPath": "/fake-auth/token",
        "bodyPatterns": [
          {
            "contains": "\"username\":\"customer\""
          }
        ]
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*"
        },
        "jsonBody": {
          "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImZha2UtYXV0aC1rZXktMSJ9.eyJpc3MiOiJodHRwOi8vd2lyZW1vY2s6ODA4MC9mYWtlLWF1dGgiLCJzdWIiOiJjdXN0b21lciIsImF1ZCI6WyJyZWFjdGl2ZS10ZXN0LWFwaSJdLCJpYXQiOjE3NjUwNjIyMDEsImV4cCI6MTc5NjU5ODIwMSwianRpIjoiMmFiMzJkNzYtNjY3YS00Mzc3LWExZDktNWRiY2RkY2ZlNTYzIiwic2NvcGUiOiJwcm9kdWN0OnJlYWQgY2FydDpyZWFkIGNhcnQ6d3JpdGUgY2hlY2tvdXQ6d3JpdGUgb3JkZXI6cmVhZCJ9.pBs_ajoc0JsRhPYS2l7zqnR_0WE52lJGs3OPpHwjGu-rBu2BBzouwaEq0di1lxA_er_XiZEUTiQGuQC4HAYccXFTcyyPfuut5LFO95kCBdpQrAhTOgeBRv-Zcun7tazkBk6Oip2ykf2Npl3tZV0E1JI0Z_FJ1A4xenRwDt5avWndXr_9onmaN_ehO4hC8zpZHnbfAPt33a2mpQdgk-o-mYGCjmR9qu0yZU_2RZjVtk3ISyLma0JyLDBHrB20P3gVa_xPVDTZz2GQb-ccFwcq1J2E1xjZwOQa3ax3v63gS4_YhfuH4hvtFgAqdobNm33DSjf3UUnFSRaErtqhKiulHQ",
          "token_type": "Bearer",
          "expires_in": 31536000,
          "scope": "product:read cart:read cart:write checkout:write order:read"
        }
      }
    },
    {
      "name": "Fake Auth Token - Readonly",
      "priority": 1,
      "request": {
        "method": "POST",
        "urlPath": "/fake-auth/token",
        "bodyPatterns": [
          {
            "contains": "\"username\":\"readonly\""
          }
        ]
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*"
        },
        "jsonBody": {
          "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImZha2UtYXV0aC1rZXktMSJ9.eyJpc3MiOiJodHRwOi8vd2lyZW1vY2s6ODA4MC9mYWtlLWF1dGgiLCJzdWIiOiJyZWFkb25seSIsImF1ZCI6WyJyZWFjdGl2ZS10ZXN0LWFwaSJdLCJpYXQiOjE3NjUwNjIyMDEsImV4cCI6MTc5NjU5ODIwMSwianRpIjoiZGZkOGIyODItMTU2NC00NmU0LWE1ZDEtYjU5Y2YwNGJmODNkIiwic2NvcGUiOiJwcm9kdWN0OnJlYWQifQ.z62-LM7P-jxMdzBYGpzTbGnvq-Z0339ePSsD2hNz8JofdyliIMIfMj39caHFWnyBW2-FFD313uVUCLgVz8mwfdPz2m1dbj6tOfr3k_TllpIqYIE6CPM2tYs07I-fVZgMls7QTcXj5HH_yC575KWxPuMMYG3TECd9q7B3X-f3EWZRC4RBV6lKZmQUwY-wgI1IYCpPP4Cmbs3cfI4Ap9dTJ_V8pkK-oVOm3YFOHXmgrn65JGwX675XD2FCe_bJuJNmBECCICeo7dIDCbHaxXn7bdqkyd3Uc9tiUDdRBtKvL4UPgfZKZeOVRp76_l-L3QxCxZvzqFzvmBx-g7dG1vzmRw",
          "token_type": "Bearer",
          "expires_in": 31536000,
          "scope": "product:read"
        }
      }
    },
    {
      "name": "Fake Auth Token - Default (fallback)",
      "priority": 10,
      "request": {
        "method": "POST",
        "urlPath": "/fake-auth/token"
      },
      "response": {
        "status": 400,
        "headers": {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*"
        },
        "jsonBody": {
          "error": "invalid_request",
          "error_description": "Unknown username. Valid users: admin, customer, readonly"
        }
      }
    },
    {
      "name": "Fake Auth Token - CORS Preflight",
      "request": {
        "method": "OPTIONS",
        "urlPath": "/fake-auth/token"
      },
      "response": {
        "status": 204,
        "headers": {
          "Access-Control-Allow-Origin": "*",
          "Access-Control-Allow-Methods": "POST, OPTIONS",
          "Access-Control-Allow-Headers": "Content-Type, Authorization",
          "Access-Control-Max-Age": "86400"
        }
      }
    },
    {
      "name": "Fake Auth Users List",
      "request": {
        "method": "GET",
        "urlPath": "/fake-auth/users"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json",
          "Access-Control-Allow-Origin": "*"
        },
        "jsonBody": {
          "users": [
            {
              "username": "admin",
              "description": "Full access to all services",
              "scopes": ["product:read", "product:write", "cart:read", "cart:write", "checkout:read", "checkout:write", "order:read", "order:write"]
            },
            {
              "username": "customer",
              "description": "Standard customer access",
              "scopes": ["product:read", "cart:read", "cart:write", "checkout:write", "order:read"]
            },
            {
              "username": "readonly",
              "description": "Read-only access to products",
              "scopes": ["product:read"]
            }
          ]
        }
      }
    }
  ]
}
